# üß† AI Mindful Journal

> **Telegram Mini App –¥–ª—è –≤–µ–¥–µ–Ω–∏—è –¥–Ω–µ–≤–Ω–∏–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è —Å AI-–∞–Ω–∞–ª–∏–∑–æ–º —ç–º–æ—Ü–∏–π**

–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –¥–Ω–µ–≤–Ω–∏–∫, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å–≤–æ—ë —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —á–µ—Ä–µ–∑ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –∏ –≥–æ–ª–æ—Å–æ–≤—ã–µ –∑–∞–ø–∏—Å–∏. AI –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–∞–∂–¥—É—é –∑–∞–ø–∏—Å—å, –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ (1-10), –≤—ã–¥–µ–ª—è–µ—Ç –∫–ª—é—á–µ–≤—ã–µ —Ç–µ–º—ã –∏ –¥–∞—ë—Ç –º—è–≥–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏.

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| üìù **–¢–µ–∫—Å—Ç–æ–≤—ã–µ –∑–∞–ø–∏—Å–∏** | –ü–∏—à–∏ –æ —Å–≤–æ–∏—Ö –º—ã—Å–ª—è—Ö –∏ —á—É–≤—Å—Ç–≤–∞—Ö |
| üé§ **–ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è** | –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ —á–µ—Ä–µ–∑ OpenAI Whisper (Premium) |
| ü§ñ **AI-–∞–Ω–∞–ª–∏–∑** | GPT-4o-mini –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –∏ –¥–∞—ë—Ç —Å–æ–≤–µ—Ç—ã |
| üìä **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** | –ì—Ä–∞—Ñ–∏–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è, streak, —Ç–µ–≥–∏ |
| üåç **–ß–∞—Å–æ–≤—ã–µ –ø–æ—è—Å–∞** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ–º |
| ‚≠ê **Telegram Stars** | –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏ –∑–∞ –ø–æ–¥–ø–∏—Å–∫—É |
| üì¢ **Broadcast** | –ú–∞—Å—Å–æ–≤–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞ —á–µ—Ä–µ–∑ Directus Flows |

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Frontend (Telegram Mini App)

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –í–µ—Ä—Å–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------------|--------|------------|
| React | 18.3.1 | UI Framework |
| Vite | 6.0.2 | –°–±–æ—Ä–∫–∞ –∏ dev-—Å–µ—Ä–≤–µ—Ä |
| TypeScript | 5.6.3 | –¢–∏–ø–∏–∑–∞—Ü–∏—è |
| Konsta UI | 5.0.6 | iOS-style –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã |
| Tailwind CSS | 3.4.15 | –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è |
| Zustand | 5.0.1 | State Management |
| Lucide React | 0.561.0 | –ò–∫–æ–Ω–∫–∏ |
| Recharts | 2.13.3 | –ì—Ä–∞—Ñ–∏–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ |
| @telegram-apps/sdk-react | 2.0.3 | Telegram SDK |
| date-fns | 4.1.0 | –†–∞–±–æ—Ç–∞ —Å –¥–∞—Ç–∞–º–∏ |

### Backend (Node.js)

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –í–µ—Ä—Å–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------------|--------|------------|
| Node.js | ‚â•20.0.0 | Runtime |
| Express | 4.21.0 | HTTP —Å–µ—Ä–≤–µ—Ä |
| grammY | 1.30.0 | Telegram Bot Framework |
| Prisma | 5.22.0 | ORM –¥–ª—è PostgreSQL |
| OpenAI SDK | 4.71.0 | GPT-4o-mini + Whisper |
| Pino | 9.5.0 | –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ |
| Zod | 3.23.8 | –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ö–µ–º |
| ioredis | 5.4.1 | –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) |
| Helmet | 8.0.0 | –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å HTTP –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ |
| express-rate-limit | 7.4.1 | Rate limiting |

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –í–µ—Ä—Å–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|--------|------------|
| PostgreSQL | 15-alpine | –û—Å–Ω–æ–≤–Ω–∞—è –ë–î |
| Directus | 10.13 | CMS –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –∞–¥–º–∏–Ω–∫–∏ |
| Redis | 7-alpine | –ö—ç—à –∏ rate limiting |
| Docker Compose | 3.8 | –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤ |

---

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                        Telegram Client                          ‚îÇ
‚îÇ                    (iOS / Android / Desktop)                    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚îÇ
                          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     Telegram Mini App                           ‚îÇ
‚îÇ              React + Konsta UI (iOS Style)                      ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê        ‚îÇ
‚îÇ  ‚îÇ  Home    ‚îÇ  ‚îÇ  New     ‚îÇ  ‚îÇ  Stats   ‚îÇ  ‚îÇ Premium  ‚îÇ        ‚îÇ
‚îÇ  ‚îÇ  Page    ‚îÇ  ‚îÇ  Entry   ‚îÇ  ‚îÇ  Page    ‚îÇ  ‚îÇ  Page    ‚îÇ        ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚îÇ HTTP + X-Telegram-Init-Data
                          ‚îÇ + X-Timezone
                          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     Node.js Backend                             ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ                    Express API                           ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ   /api/user  /api/entries  /api/analyze  /api/internal   ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ                    grammY Bot                            ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ   /start  /stats  /premium  Text/Voice handlers          ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ                  Config Service                          ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ   In-memory cache ‚Üê app_settings (PostgreSQL/Directus)   ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ                                ‚îÇ
           ‚ñº                                ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ    PostgreSQL 15    ‚îÇ          ‚îÇ    OpenAI API       ‚îÇ
‚îÇ                     ‚îÇ          ‚îÇ                     ‚îÇ
‚îÇ  ‚Ä¢ users            ‚îÇ          ‚îÇ  ‚Ä¢ GPT-4o-mini      ‚îÇ
‚îÇ  ‚Ä¢ journal_entries  ‚îÇ          ‚îÇ    (Mood Analysis)  ‚îÇ
‚îÇ  ‚Ä¢ usage_logs       ‚îÇ          ‚îÇ                     ‚îÇ
‚îÇ  ‚Ä¢ transactions     ‚îÇ          ‚îÇ  ‚Ä¢ Whisper          ‚îÇ
‚îÇ  ‚Ä¢ subscriptions    ‚îÇ          ‚îÇ    (Transcription)  ‚îÇ
‚îÇ  ‚Ä¢ app_settings     ‚îÇ          ‚îÇ                     ‚îÇ
‚îÇ  ‚Ä¢ broadcasts       ‚îÇ          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚ñ≤
           ‚îÇ Directus —É–ø—Ä–∞–≤–ª—è–µ—Ç
           ‚îÇ —Ç–µ–º–∏ –∂–µ —Ç–∞–±–ª–∏—Ü–∞–º–∏
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ    Directus CMS     ‚îÇ
‚îÇ    (Port 8055)      ‚îÇ
‚îÇ                     ‚îÇ
‚îÇ  ‚Ä¢ –í–∏–∑—É–∞–ª—å–Ω—ã–π UI    ‚îÇ
‚îÇ  ‚Ä¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ       ‚îÇ
‚îÇ    app_settings     ‚îÇ
‚îÇ  ‚Ä¢ Broadcast Flows  ‚îÇ
‚îÇ  ‚Ä¢ User Management  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å** –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Mini App —á–µ—Ä–µ–∑ –±–æ—Ç–∞ –∏–ª–∏ inline-–∫–Ω–æ–ø–∫—É
2. **Frontend** –ø–æ–ª—É—á–∞–µ—Ç `initData` –æ—Ç Telegram –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å –∫–∞–∂–¥—ã–º –∑–∞–ø—Ä–æ—Å–æ–º –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ `X-Telegram-Init-Data`
3. **Backend** –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –ø–æ–¥–ø–∏—Å—å —á–µ—Ä–µ–∑ HMAC-SHA256 –∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç `user_id`
4. **Prisma** –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å PostgreSQL –¥–ª—è CRUD –æ–ø–µ—Ä–∞—Ü–∏–π
5. **ConfigService** –∫—ç—à–∏—Ä—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ `app_settings` —Å TTL 5 –º–∏–Ω—É—Ç
6. **OpenAI** –ø–æ–ª—É—á–∞–µ—Ç —Ç–µ–∫—Å—Ç/–∞—É–¥–∏–æ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Node.js** ‚â• 20.0.0
- **Docker** & **Docker Compose**
- **Telegram Bot Token** (–æ—Ç [@BotFather](https://t.me/BotFather))
- **OpenAI API Key** (—Å –¥–æ—Å—Ç—É–ø–æ–º –∫ GPT-4o-mini –∏ Whisper)

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https://github.com/your-username/mindful-journal.git
cd mindful-journal
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –°–∫–æ–ø–∏—Ä—É–π example –∏ –∑–∞–ø–æ–ª–Ω–∏ –∑–Ω–∞—á–µ–Ω–∏—è
cp .env.example .env
```

üìñ –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö ‚Äî —Å–º. [ENVIRONMENT_VARIABLES.md](./docs/ENVIRONMENT_VARIABLES.md)

### 3. –ó–∞–ø—É—Å–∫ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã (Docker)

```bash
# –ó–∞–ø—É—Å–∫ PostgreSQL, Directus, Redis
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker-compose ps

# –õ–æ–≥–∏
docker-compose logs -f directus
```

–°–µ—Ä–≤–∏—Å—ã –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã:
- **PostgreSQL**: `localhost:5432`
- **Directus**: `http://localhost:8055`
- **Redis**: `localhost:6379`

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Directus

1. –û—Ç–∫—Ä–æ–π http://localhost:8055
2. –í–æ–π–¥–∏ —Å `ADMIN_EMAIL` / `ADMIN_PASSWORD` –∏–∑ `.env`
3. –°–æ–∑–¥–∞–π –∫–æ–ª–ª–µ–∫—Ü–∏—é `app_settings` ‚Äî —Å–º. [DIRECTUS_SETUP.md](./docs/DIRECTUS_SETUP.md)

### 5. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# Backend
cd server
npm install
npm run db:generate   # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Prisma Client
npm run db:push       # –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å—Ö–µ–º—ã –∫ –ë–î

# Frontend
cd ../client
npm install
```

### 6. –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
# Terminal 1: Backend (–ø–æ—Ä—Ç 3000)
cd server
npm run dev

# Terminal 2: Frontend (–ø–æ—Ä—Ç 5173 —Å –ø—Ä–æ–∫—Å–∏ –Ω–∞ backend)
cd client
npm run dev
```

### 7. Production Build

```bash
# Frontend
cd client
npm run build
# Output: dist/

# Backend
cd server
npm run build
npm start
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
mindful-journal/
‚îú‚îÄ‚îÄ client/                    # üé® React Mini App
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/        # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (EntryCard, etc.)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/             # –°—Ç—Ä–∞–Ω–∏—Ü—ã (Home, New, Stats, Premium, Profile)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/             # useTelegram, useHaptic
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ store/             # Zustand store (useAppStore)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lib/               # API client, utils
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config/            # App constants (MIN_ENTRY_CHARS, etc.)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ types/             # TypeScript types
‚îÇ   ‚îú‚îÄ‚îÄ index.html
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îÇ
‚îú‚îÄ‚îÄ server/                    # ‚öôÔ∏è Node.js Backend
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/               # Express routes & middleware
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes/        # user.ts, entries.ts, internal.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ middleware/    # auth.ts, rateLimit.ts, timezone.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ bot/               # grammY bot handlers (index.ts)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/          # openai.ts, config.ts, user.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils/             # logger.ts, pricing.ts, telegram.ts
‚îÇ   ‚îú‚îÄ‚îÄ prisma/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ schema.prisma      # üìä Database schema
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îÇ
‚îú‚îÄ‚îÄ docs/                      # üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ ENVIRONMENT_VARIABLES.md
‚îÇ   ‚îú‚îÄ‚îÄ DATABASE_SCHEMA.md
‚îÇ   ‚îî‚îÄ‚îÄ DIRECTUS_SETUP.md
‚îÇ
‚îú‚îÄ‚îÄ docker-compose.yml         # üê≥ –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
‚îú‚îÄ‚îÄ .env.example               # –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
‚îî‚îÄ‚îÄ README.md                  # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

---

## üí∞ –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è

| –¢–∞—Ä–∏—Ñ | –¶–µ–Ω–∞ | –ó–∞–ø–∏—Å–µ–π/–¥–µ–Ω—å | –ì–æ–ª–æ—Å–æ–≤—ã–µ | –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ |
|-------|------|--------------|-----------|---------------|
| **Free** | 0 ‚≠ê | 5 | ‚ùå | ‚Äî |
| **Basic** | 50 ‚≠ê/–º–µ—Å | 20 | 5/–¥–µ–Ω—å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ |
| **Premium** | 150 ‚≠ê/–º–µ—Å | ‚àû | ‚àû | –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ |

> üí° –¶–µ–Ω—ã –∏ –ª–∏–º–∏—Ç—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ Directus –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞!

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ **Telegram initData –≤–∞–ª–∏–¥–∞—Ü–∏—è** ‚Äî HMAC-SHA256 –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏
- ‚úÖ **Rate Limiting** ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç DDoS (60 req/min API, 10 req/min AI)
- ‚úÖ **API –∫–ª—é—á–∏ —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ** ‚Äî OpenAI –∫–ª—é—á –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –∫–ª–∏–µ–Ω—Ç
- ‚úÖ **Helmet.js** ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ HTTP –∑–∞–≥–æ–ª–æ–≤–∫–∏
- ‚úÖ **ENV validation** ‚Äî —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –±–µ–∑ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

---

## üìñ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

| –î–æ–∫—É–º–µ–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| [ENVIRONMENT_VARIABLES.md](./docs/ENVIRONMENT_VARIABLES.md) | –í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è |
| [DATABASE_SCHEMA.md](./docs/DATABASE_SCHEMA.md) | –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Prisma |
| [DIRECTUS_SETUP.md](./docs/DIRECTUS_SETUP.md) | –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CMS, –∫–ª—é—á–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, Broadcast |

---

## ü§ù Contributing

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –°–æ–∑–¥–∞–π feature branch: `git checkout -b feature/amazing-feature`
3. Commit –∏–∑–º–µ–Ω–µ–Ω–∏–π: `git commit -m 'Add amazing feature'`
4. Push –≤ branch: `git push origin feature/amazing-feature`
5. –û—Ç–∫—Ä–æ–π Pull Request

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License ‚Äî —Å–º. [LICENSE](./LICENSE)

---

<p align="center">
  Made with ‚ù§Ô∏è and ü§ñ AI
</p>